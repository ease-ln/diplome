{"ast":null,"code":"import { actions } from \"./actions\";\nimport { fetchPermissions as _fetchPermissions } from \"./../../services/RolesService\";\nexport var actionCreator = {\n  fetchPermissions: function fetchPermissions(token, email) {\n    return function (dispatch) {\n      return _fetchPermissions(token, email).then(function (response) {\n        if (response.pages) {\n          dispatch(actions.fetchPermissions(response));\n          localStorage.setItem(\"innometrics-permissions\", JSON.stringify(response));\n          return response;\n        } else {\n          throw new Error(\"no pages key found in response\");\n        }\n      }).catch(function (err) {\n        return false;\n      });\n    };\n  }\n};","map":{"version":3,"names":["actions","fetchPermissions","actionCreator","token","email","dispatch","then","response","pages","localStorage","setItem","JSON","stringify","Error","catch","err"],"sources":["/Users/drenyasova/diplome/src/redux/roles/action-creator.js"],"sourcesContent":["import { actions } from \"./actions\";\nimport { fetchPermissions } from \"./../../services/RolesService\";\n\nexport const actionCreator = {\n  fetchPermissions: (token, email) => (dispatch) => {\n    return fetchPermissions(token, email)\n      .then((response) => {\n        if (response.pages) {\n          dispatch(actions.fetchPermissions(response));\n          localStorage.setItem(\n            \"innometrics-permissions\",\n            JSON.stringify(response)\n          );\n          return response;\n        } else {\n          throw new Error(\"no pages key found in response\");\n        }\n      })\n      .catch((err) => false);\n  },\n};\n"],"mappings":"AAAA,SAASA,OAAO,QAAQ,WAAW;AACnC,SAASC,gBAAgB,IAAhBA,iBAAgB,QAAQ,+BAA+B;AAEhE,OAAO,IAAMC,aAAa,GAAG;EAC3BD,gBAAgB,EAAE,SAAAA,iBAACE,KAAK,EAAEC,KAAK;IAAA,OAAK,UAACC,QAAQ,EAAK;MAChD,OAAOJ,iBAAgB,CAACE,KAAK,EAAEC,KAAK,CAAC,CAClCE,IAAI,CAAC,UAACC,QAAQ,EAAK;QAClB,IAAIA,QAAQ,CAACC,KAAK,EAAE;UAClBH,QAAQ,CAACL,OAAO,CAACC,gBAAgB,CAACM,QAAQ,CAAC,CAAC;UAC5CE,YAAY,CAACC,OAAO,CAClB,yBAAyB,EACzBC,IAAI,CAACC,SAAS,CAACL,QAAQ,CACzB,CAAC;UACD,OAAOA,QAAQ;QACjB,CAAC,MAAM;UACL,MAAM,IAAIM,KAAK,CAAC,gCAAgC,CAAC;QACnD;MACF,CAAC,CAAC,CACDC,KAAK,CAAC,UAACC,GAAG;QAAA,OAAK,KAAK;MAAA,EAAC;IAC1B,CAAC;EAAA;AACH,CAAC"},"metadata":{},"sourceType":"module"}