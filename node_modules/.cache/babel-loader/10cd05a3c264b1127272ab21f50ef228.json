{"ast":null,"code":"import { actions } from \"./actions\";\nimport { loginUser, registerUser } from \"../../services/AuthService\";\nimport { saveData, localStorageKey, removeData } from \"../utils\";\nexport var actionCreator = {\n  login: function login(email, password) {\n    return function (dispatch) {\n      dispatch(actions.loginStart());\n      return loginUser(email, password).then(function (response) {\n        if (response.token) {\n          dispatch(actions.loginSuccess(response));\n          saveData(localStorageKey, response);\n          localStorage.setItem(\"email\", email);\n          return response;\n        } else {\n          dispatch(actions.loginError(response.message));\n          return false;\n        }\n      }).catch(function (error) {\n        dispatch(actions.loginError(error));\n        return false;\n      });\n    };\n  },\n  logout: function logout() {\n    return function (dispatch) {\n      dispatch(actions.logout());\n      removeData(localStorageKey);\n      removeData(\"activityReport\");\n    };\n  },\n  register: function register(firstName, surname, email, password) {\n    return function (dispatch) {\n      return registerUser(firstName, surname, email, password).then(function (response) {\n        dispatch(actions.register());\n        return response;\n      }).catch(function (e) {\n        dispatch(actions.registerError(e.message));\n      });\n    };\n  }\n};","map":{"version":3,"names":["actions","loginUser","registerUser","saveData","localStorageKey","removeData","actionCreator","login","email","password","dispatch","loginStart","then","response","token","loginSuccess","localStorage","setItem","loginError","message","catch","error","logout","register","firstName","surname","e","registerError"],"sources":["/Users/drenyasova/diplome/src/redux/auth/action-creators.js"],"sourcesContent":["import { actions } from \"./actions\";\nimport { loginUser, registerUser } from \"../../services/AuthService\";\nimport { saveData, localStorageKey, removeData } from \"../utils\";\n\nexport const actionCreator = {\n  login: (email, password) => (dispatch) => {\n    dispatch(actions.loginStart());\n    return loginUser(email, password)\n      .then((response) => {\n        if (response.token) {\n          dispatch(actions.loginSuccess(response));\n          saveData(localStorageKey, response);\n          localStorage.setItem(\"email\", email);\n          return response;\n        } else {\n          dispatch(actions.loginError(response.message));\n          return false;\n        }\n      })\n      .catch((error) => {\n        dispatch(actions.loginError(error));\n        return false;\n      });\n  },\n  logout: () => (dispatch) => {\n    dispatch(actions.logout());\n    removeData(localStorageKey);\n    removeData(\"activityReport\");\n  },\n  register: (firstName, surname, email, password) => (dispatch) => {\n    return registerUser(firstName, surname, email, password)\n      .then((response) => {\n        dispatch(actions.register());\n        return response;\n      })\n      .catch((e) => {\n        dispatch(actions.registerError(e.message));\n      });\n  },\n};\n"],"mappings":"AAAA,SAASA,OAAO,QAAQ,WAAW;AACnC,SAASC,SAAS,EAAEC,YAAY,QAAQ,4BAA4B;AACpE,SAASC,QAAQ,EAAEC,eAAe,EAAEC,UAAU,QAAQ,UAAU;AAEhE,OAAO,IAAMC,aAAa,GAAG;EAC3BC,KAAK,EAAE,SAAAA,MAACC,KAAK,EAAEC,QAAQ;IAAA,OAAK,UAACC,QAAQ,EAAK;MACxCA,QAAQ,CAACV,OAAO,CAACW,UAAU,CAAC,CAAC,CAAC;MAC9B,OAAOV,SAAS,CAACO,KAAK,EAAEC,QAAQ,CAAC,CAC9BG,IAAI,CAAC,UAACC,QAAQ,EAAK;QAClB,IAAIA,QAAQ,CAACC,KAAK,EAAE;UAClBJ,QAAQ,CAACV,OAAO,CAACe,YAAY,CAACF,QAAQ,CAAC,CAAC;UACxCV,QAAQ,CAACC,eAAe,EAAES,QAAQ,CAAC;UACnCG,YAAY,CAACC,OAAO,CAAC,OAAO,EAAET,KAAK,CAAC;UACpC,OAAOK,QAAQ;QACjB,CAAC,MAAM;UACLH,QAAQ,CAACV,OAAO,CAACkB,UAAU,CAACL,QAAQ,CAACM,OAAO,CAAC,CAAC;UAC9C,OAAO,KAAK;QACd;MACF,CAAC,CAAC,CACDC,KAAK,CAAC,UAACC,KAAK,EAAK;QAChBX,QAAQ,CAACV,OAAO,CAACkB,UAAU,CAACG,KAAK,CAAC,CAAC;QACnC,OAAO,KAAK;MACd,CAAC,CAAC;IACN,CAAC;EAAA;EACDC,MAAM,EAAE,SAAAA,OAAA;IAAA,OAAM,UAACZ,QAAQ,EAAK;MAC1BA,QAAQ,CAACV,OAAO,CAACsB,MAAM,CAAC,CAAC,CAAC;MAC1BjB,UAAU,CAACD,eAAe,CAAC;MAC3BC,UAAU,CAAC,gBAAgB,CAAC;IAC9B,CAAC;EAAA;EACDkB,QAAQ,EAAE,SAAAA,SAACC,SAAS,EAAEC,OAAO,EAAEjB,KAAK,EAAEC,QAAQ;IAAA,OAAK,UAACC,QAAQ,EAAK;MAC/D,OAAOR,YAAY,CAACsB,SAAS,EAAEC,OAAO,EAAEjB,KAAK,EAAEC,QAAQ,CAAC,CACrDG,IAAI,CAAC,UAACC,QAAQ,EAAK;QAClBH,QAAQ,CAACV,OAAO,CAACuB,QAAQ,CAAC,CAAC,CAAC;QAC5B,OAAOV,QAAQ;MACjB,CAAC,CAAC,CACDO,KAAK,CAAC,UAACM,CAAC,EAAK;QACZhB,QAAQ,CAACV,OAAO,CAAC2B,aAAa,CAACD,CAAC,CAACP,OAAO,CAAC,CAAC;MAC5C,CAAC,CAAC;IACN,CAAC;EAAA;AACH,CAAC"},"metadata":{},"sourceType":"module"}